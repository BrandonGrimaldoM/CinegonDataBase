--------------------------------------------------------
-- Archivo creado  - martes-mayo-25-2021   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Sequence IDPELICULASQ
--------------------------------------------------------

   CREATE SEQUENCE  "CINE"."IDPELICULASQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 142 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Table GENERO
--------------------------------------------------------

  CREATE TABLE "CINE"."GENERO" 
   (	"GENERO" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table HORARIO
--------------------------------------------------------

  CREATE TABLE "CINE"."HORARIO" 
   (	"HORARIO" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table IDIOMA
--------------------------------------------------------

  CREATE TABLE "CINE"."IDIOMA" 
   (	"IDIOMA" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table PANEL
--------------------------------------------------------

  CREATE TABLE "CINE"."PANEL" 
   (	"PANEL" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table PELICULA
--------------------------------------------------------

  CREATE TABLE "CINE"."PELICULA" 
   (	"ID_PELICULA" NUMBER(30,0), 
	"PELICULA" VARCHAR2(50 BYTE), 
	"GENERO" VARCHAR2(50 BYTE), 
	"HORARIO" VARCHAR2(50 BYTE), 
	"DURACION" NUMBER(30,0), 
	"IDIOMA" VARCHAR2(50 BYTE), 
	"PANEL" VARCHAR2(50 BYTE), 
	"IMAGEN" BLOB DEFAULT EMPTY_BLOB()
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" 
 LOB ("IMAGEN") STORE AS SECUREFILE (
  TABLESPACE "USERS" ENABLE STORAGE IN ROW CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES 
  STORAGE(INITIAL 106496 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;
REM INSERTING into CINE.GENERO
SET DEFINE OFF;
Insert into CINE.GENERO (GENERO) values ('Acción');
Insert into CINE.GENERO (GENERO) values ('Animación');
Insert into CINE.GENERO (GENERO) values ('Aventura');
Insert into CINE.GENERO (GENERO) values ('Ciencia ficción');
Insert into CINE.GENERO (GENERO) values ('Comedia');
Insert into CINE.GENERO (GENERO) values ('Crimen');
Insert into CINE.GENERO (GENERO) values ('Dramático');
Insert into CINE.GENERO (GENERO) values ('Guerra');
Insert into CINE.GENERO (GENERO) values ('Musical');
Insert into CINE.GENERO (GENERO) values ('Película del Oeste');
Insert into CINE.GENERO (GENERO) values ('Terror');
REM INSERTING into CINE.HORARIO
SET DEFINE OFF;
Insert into CINE.HORARIO (HORARIO) values ('10:00 AM');
Insert into CINE.HORARIO (HORARIO) values ('10:00 PM');
Insert into CINE.HORARIO (HORARIO) values ('10:30 AM');
Insert into CINE.HORARIO (HORARIO) values ('10:30 PM');
Insert into CINE.HORARIO (HORARIO) values ('11:00 AM');
Insert into CINE.HORARIO (HORARIO) values ('11:00 PM');
Insert into CINE.HORARIO (HORARIO) values ('11:30 AM');
Insert into CINE.HORARIO (HORARIO) values ('11:30 PM');
Insert into CINE.HORARIO (HORARIO) values ('12:00 AM');
Insert into CINE.HORARIO (HORARIO) values ('12:00 PM');
Insert into CINE.HORARIO (HORARIO) values ('12:30 AM');
Insert into CINE.HORARIO (HORARIO) values ('12:30 PM');
Insert into CINE.HORARIO (HORARIO) values ('1:00 AM');
Insert into CINE.HORARIO (HORARIO) values ('1:00 PM');
Insert into CINE.HORARIO (HORARIO) values ('1:30 PM');
Insert into CINE.HORARIO (HORARIO) values ('2:00 PM');
Insert into CINE.HORARIO (HORARIO) values ('2:30 PM');
Insert into CINE.HORARIO (HORARIO) values ('3:00 PM');
Insert into CINE.HORARIO (HORARIO) values ('3:30 PM');
Insert into CINE.HORARIO (HORARIO) values ('4:00 PM');
Insert into CINE.HORARIO (HORARIO) values ('4:30 PM');
Insert into CINE.HORARIO (HORARIO) values ('5:00 PM');
Insert into CINE.HORARIO (HORARIO) values ('5:30 PM');
Insert into CINE.HORARIO (HORARIO) values ('6:00 AM');
Insert into CINE.HORARIO (HORARIO) values ('6:00 PM');
Insert into CINE.HORARIO (HORARIO) values ('6:30 AM');
Insert into CINE.HORARIO (HORARIO) values ('6:30 PM');
Insert into CINE.HORARIO (HORARIO) values ('7:00 AM');
Insert into CINE.HORARIO (HORARIO) values ('7:00 PM');
Insert into CINE.HORARIO (HORARIO) values ('7:30 AM');
Insert into CINE.HORARIO (HORARIO) values ('7:30 PM');
Insert into CINE.HORARIO (HORARIO) values ('8:00 AM');
Insert into CINE.HORARIO (HORARIO) values ('8:00 PM');
Insert into CINE.HORARIO (HORARIO) values ('8:30 AM');
Insert into CINE.HORARIO (HORARIO) values ('8:30 PM');
Insert into CINE.HORARIO (HORARIO) values ('9:00 AM');
Insert into CINE.HORARIO (HORARIO) values ('9:00 PM');
Insert into CINE.HORARIO (HORARIO) values ('9:30 AM');
Insert into CINE.HORARIO (HORARIO) values ('9:30 PM');
REM INSERTING into CINE.IDIOMA
SET DEFINE OFF;
Insert into CINE.IDIOMA (IDIOMA) values ('Coreano');
Insert into CINE.IDIOMA (IDIOMA) values ('Doblada al Coreano');
Insert into CINE.IDIOMA (IDIOMA) values ('Doblada al Español');
Insert into CINE.IDIOMA (IDIOMA) values ('Doblada al Inglés');
Insert into CINE.IDIOMA (IDIOMA) values ('Doblada al Japonés');
Insert into CINE.IDIOMA (IDIOMA) values ('Doblada al Portugués');
Insert into CINE.IDIOMA (IDIOMA) values ('Español');
Insert into CINE.IDIOMA (IDIOMA) values ('Inglés');
Insert into CINE.IDIOMA (IDIOMA) values ('Japonés');
Insert into CINE.IDIOMA (IDIOMA) values ('Portugués');
Insert into CINE.IDIOMA (IDIOMA) values ('Subtitulada al Coreano');
Insert into CINE.IDIOMA (IDIOMA) values ('Subtitulada al Español');
Insert into CINE.IDIOMA (IDIOMA) values ('Subtitulada al Inglés');
Insert into CINE.IDIOMA (IDIOMA) values ('Subtitulada al Japonés');
Insert into CINE.IDIOMA (IDIOMA) values ('Subtitulada al Portugués');
REM INSERTING into CINE.PANEL
SET DEFINE OFF;
Insert into CINE.PANEL (PANEL) values ('Panel dos');
Insert into CINE.PANEL (PANEL) values ('Panel tres');
Insert into CINE.PANEL (PANEL) values ('Panel uno');
REM INSERTING into CINE.PELICULA
SET DEFINE OFF;
Insert into CINE.PELICULA (ID_PELICULA,PELICULA,GENERO,HORARIO,DURACION,IDIOMA,PANEL) values (132,'Cruella','Comedia','1:30 PM',120,'Inglés','Panel tres');
Insert into CINE.PELICULA (ID_PELICULA,PELICULA,GENERO,HORARIO,DURACION,IDIOMA,PANEL) values (131,'Ajuste de cuentas','Acción','1:00 PM',200,'Español','Panel dos');
Insert into CINE.PELICULA (ID_PELICULA,PELICULA,GENERO,HORARIO,DURACION,IDIOMA,PANEL) values (130,'kimetzu','Animación','11:00 PM',145,'Subtitulada al Español','Panel uno');
Insert into CINE.PELICULA (ID_PELICULA,PELICULA,GENERO,HORARIO,DURACION,IDIOMA,PANEL) values (134,'Spiderman','Ciencia ficción','5:30 PM',234,'Español',null);
--------------------------------------------------------
--  DDL for Index IDIOMA_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "CINE"."IDIOMA_PK" ON "CINE"."IDIOMA" ("IDIOMA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PELICULA_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "CINE"."PELICULA_PK" ON "CINE"."PELICULA" ("ID_PELICULA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PANEL_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "CINE"."PANEL_PK" ON "CINE"."PANEL" ("PANEL") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index UNICOPANEL
--------------------------------------------------------

  CREATE UNIQUE INDEX "CINE"."UNICOPANEL" ON "CINE"."PELICULA" ("PANEL") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index HORARIO_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "CINE"."HORARIO_PK" ON "CINE"."HORARIO" ("HORARIO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index GENERO_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "CINE"."GENERO_PK" ON "CINE"."GENERO" ("GENERO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Procedure INSERTARINFO
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "CINE"."INSERTARINFO" 
(
  PEL IN VARCHAR2 
, GEN IN VARCHAR2 
, HOR IN VARCHAR2 
, DUR IN NUMBER 
, IDIO IN VARCHAR2 
, PAN IN VARCHAR2 

) AS 
BEGIN


  insert 
  into 
  pelicula
  (
  id_pelicula,
  pelicula,
  genero,
  horario,
  duracion,
  idioma,
  panel) 
  values (
  IDPELICULASQ.nextval,
  PEL,
  GEN,
  HOR,
  DUR,
  IDIO,
  PAN);
END INSERTARINFO;

/
--------------------------------------------------------
--  DDL for Procedure SELECTPELICULAS
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "CINE"."SELECTPELICULAS" 
(
  TABLA OUT SYS_REFCURSOR
) AS 
BEGIN
 open TABLA FOR SELECT  ID_PELICULA as ID,PELICULA AS PELÍCULA, GENERO,HORARIO,DURACION,IDIOMA,PANEL FROM PELICULA;
END SELECTPELICULAS;

/
--------------------------------------------------------
--  Constraints for Table GENERO
--------------------------------------------------------

  ALTER TABLE "CINE"."GENERO" MODIFY ("GENERO" NOT NULL ENABLE);
  ALTER TABLE "CINE"."GENERO" ADD CONSTRAINT "GENERO_PK" PRIMARY KEY ("GENERO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table IDIOMA
--------------------------------------------------------

  ALTER TABLE "CINE"."IDIOMA" MODIFY ("IDIOMA" NOT NULL ENABLE);
  ALTER TABLE "CINE"."IDIOMA" ADD CONSTRAINT "IDIOMA_PK" PRIMARY KEY ("IDIOMA")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table PELICULA
--------------------------------------------------------

  ALTER TABLE "CINE"."PELICULA" ADD CONSTRAINT "UNICOPANEL" UNIQUE ("PANEL")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "CINE"."PELICULA" MODIFY ("ID_PELICULA" NOT NULL ENABLE);
  ALTER TABLE "CINE"."PELICULA" ADD CONSTRAINT "PELICULA_PK" PRIMARY KEY ("ID_PELICULA")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table HORARIO
--------------------------------------------------------

  ALTER TABLE "CINE"."HORARIO" MODIFY ("HORARIO" NOT NULL ENABLE);
  ALTER TABLE "CINE"."HORARIO" ADD CONSTRAINT "HORARIO_PK" PRIMARY KEY ("HORARIO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table PANEL
--------------------------------------------------------

  ALTER TABLE "CINE"."PANEL" MODIFY ("PANEL" NOT NULL ENABLE);
  ALTER TABLE "CINE"."PANEL" ADD CONSTRAINT "PANEL_PK" PRIMARY KEY ("PANEL")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PELICULA
--------------------------------------------------------

  ALTER TABLE "CINE"."PELICULA" ADD CONSTRAINT "FK_GERERO" FOREIGN KEY ("GENERO")
	  REFERENCES "CINE"."GENERO" ("GENERO") ENABLE;
  ALTER TABLE "CINE"."PELICULA" ADD CONSTRAINT "FK_HORARIO" FOREIGN KEY ("HORARIO")
	  REFERENCES "CINE"."HORARIO" ("HORARIO") ENABLE;
  ALTER TABLE "CINE"."PELICULA" ADD CONSTRAINT "FK_IDIOMA" FOREIGN KEY ("IDIOMA")
	  REFERENCES "CINE"."IDIOMA" ("IDIOMA") ENABLE;
  ALTER TABLE "CINE"."PELICULA" ADD CONSTRAINT "FK_PANEL" FOREIGN KEY ("PANEL")
	  REFERENCES "CINE"."PANEL" ("PANEL") ENABLE;
